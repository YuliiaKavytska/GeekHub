(this["webpackJsonpfinal-app"]=this["webpackJsonpfinal-app"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},13:function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return x})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return C}));var r=n(5),a=n.n(r),c=n(17),i=n(12),s=n(2),o=n(8),l=n(23),u={profile:null},d=function(e){return{type:"CA/PROFILE/SET_PROFILE",profile:e}},b=function(e,t){return{type:"CA/CONTACTS/TOGGLE_FAV_USER",id:e,event:t}},j=function(e){return{type:"CA/CONTACTS/DELETE_FROM_FAVORITE",id:e}},f=function(e){return{type:"CA/CONTACTS/DELETE_CONTACT",id:e}},m=function(e){return{type:"CA/CONTACTS/ADD_CONTACT",contact:e}},O=function(e){return{type:"CA/CONTACTS/EDIT_USER_DATA",data:e}},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,i,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)("/api/getUser","POST",e);case 2:if(200!==(r=t.sent).status){t.next=12;break}return t.next=6,r.json();case 6:return c=t.sent,i=c.data,n(d(i)),t.abrupt("return",!0);case 12:if(500!==r.status){t.next=18;break}return t.next=15,r.json();case 15:return s=t.sent,t.next=18,n(Object(o.c)(s));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r,c){var i,s,u,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r(b(e,t)),s=null===(i=c().profile.profile)||void 0===i?void 0:i.id,!t){n.next=8;break}return n.next=5,Object(l.a)("/api/user/".concat(s,"/favorite/").concat(e),"PUT");case 5:u=n.sent,n.next=11;break;case 8:return n.next=10,Object(l.a)("/api/user/".concat(s,"/favorite/").concat(e),"DELETE");case 10:u=n.sent;case 11:if(200===u.status){n.next=23;break}if(r(b(e,!t)),500!==u.status){n.next=21;break}return n.next=16,u.json();case 16:return d=n.sent,n.next=19,r(Object(o.c)(d));case 19:n.next=23;break;case 21:return n.next=23,r(Object(o.c)({message:"Server error. Something wrong"}));case 23:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i,s,u,d,O,p,h,v,x;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O=null===(c=r().profile.profile)||void 0===c||null===(i=c.contacts)||void 0===i?void 0:i.find((function(t){return t.id===e})),p=null===(s=r().profile.profile)||void 0===s||null===(u=s.favorites)||void 0===u?void 0:u.find((function(e){return e===(null===O||void 0===O?void 0:O.id)})),n(f(e)),p&&(null===O||void 0===O?void 0:O.id)&&n(j(null===O||void 0===O?void 0:O.id)),h=null===(d=r().profile.profile)||void 0===d?void 0:d.id,t.next=7,Object(l.a)("/api/user/".concat(h,"/contact/").concat(e),"DELETE");case 7:if(200===(v=t.sent).status){t.next=20;break}if(O&&(n(m(O)),p&&n(b(O.id,!0))),500!==v.status){t.next=18;break}return t.next=13,v.json();case 13:return x=t.sent,t.next=16,n(Object(o.c)(x));case 16:t.next=20;break;case 18:return t.next=20,n(Object(o.c)({message:"Server error. Something wrong, user can`t be deleted"}));case 20:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},x=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(o.d.setAuthorized(!1)),t(d(null)),localStorage.removeItem("CA/user");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i,s,u,d,b,j,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=null===(c=r().profile.profile)||void 0===c||null===(i=c.contacts)||void 0===i?void 0:i.find((function(t){return t.id===e.id})),d=Object(l.b)(e),b=null===(s=r().profile.profile)||void 0===s?void 0:s.id,"object"===typeof e.avatar&&(e.avatar="/"+e.avatar.name),n(O(e)),t.next=7,fetch("/api/user/".concat(b,"/contact/edit"),{method:"POST",body:d});case 7:if(200!==(j=t.sent).status){t.next=10;break}return t.abrupt("return",!0);case 10:if(n(O(u)),500!==j.status){t.next=19;break}return t.next=14,j.json();case 14:return f=t.sent,t.next=17,n(Object(o.c)(f));case 17:t.next=21;break;case 19:return t.next=21,n(Object(o.c)({message:"Server error. Something wrong, user`s info can`t be changed"}));case 21:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i,s,u,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(l.b)(e),s=null===(c=r().profile.profile)||void 0===c?void 0:c.id,"object"===typeof e.avatar&&(e.avatar="/"+e.avatar.name),n(m(e)),t.next=6,fetch("/api/user/".concat(s,"/contact/new"),{method:"POST",body:i});case 6:if(200!==(u=t.sent).status){t.next=9;break}return t.abrupt("return",!0);case 9:if(n(f(e.id)),500!==u.status){t.next=18;break}return t.next=13,u.json();case 13:return d=t.sent,t.next=16,n(Object(o.c)(d));case 16:t.next=20;break;case 18:return t.next=20,n(Object(o.c)({message:"Server error. Something wrong, user`s info can`t be changed"}));case 20:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.c=function(){var e,t,n,r,a,c,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,d=arguments.length>1?arguments[1]:void 0;switch(d.type){case"CA/PROFILE/SET_PROFILE":return Object(s.a)(Object(s.a)({},l),{},{profile:d.profile});case"CA/CONTACTS/TOGGLE_FAV_USER":var b,j,f,m;if(d.event)b=(null===(j=l.profile)||void 0===j?void 0:j.favorites)?[].concat(Object(i.a)(l.profile.favorites),[d.id]):[d.id];else b=null===(f=l.profile)||void 0===f||null===(m=f.favorites)||void 0===m?void 0:m.filter((function(e){return e!==d.id}));return Object(s.a)(Object(s.a)({},l),{},{profile:Object(s.a)(Object(s.a)({},l.profile),{},{favorites:b})});case"CA/CONTACTS/DELETE_FROM_FAVORITE":return Object(s.a)(Object(s.a)({},l),{},{profile:Object(s.a)(Object(s.a)({},l.profile),{},{favorites:null===(e=l.profile)||void 0===e||null===(t=e.favorites)||void 0===t?void 0:t.filter((function(e){return e!==d.id}))})});case"CA/CONTACTS/DELETE_CONTACT":return Object(s.a)(Object(s.a)({},l),{},{profile:Object(s.a)(Object(s.a)({},l.profile),{},{contacts:null===(n=l.profile)||void 0===n||null===(r=n.contacts)||void 0===r?void 0:r.filter((function(e){return e.id!==d.id}))})});case"CA/CONTACTS/EDIT_USER_DATA":var O=null===(a=l.profile)||void 0===a||null===(c=a.contacts)||void 0===c?void 0:c.map((function(e){return e.id===d.data.id?d.data:e}));return Object(s.a)(Object(s.a)({},l),{},{profile:Object(s.a)(Object(s.a)({},l.profile),{},{contacts:O})});case"CA/CONTACTS/ADD_CONTACT":var p;return p=(null===(o=l.profile)||void 0===o?void 0:o.contacts)?[].concat(Object(i.a)(l.profile.contacts),[d.contact]):[d.contact],Object(s.a)(Object(s.a)({},l),{},{profile:Object(s.a)(Object(s.a)({},l.profile),{},{contacts:p})});default:return l}}},206:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(48),i=n.n(c),s=(n(100),n(101),n(6)),o=n(4),l=n.p+"static/media/logo.87cf462c.png",u=n(9),d=n(13),b=n(0),j={LogOutTC:d.a},f=Object(u.b)((function(e){return{isAuth:e.app.isAuth}}),j)((function(e){var t=e.isAuth,n=e.LogOutTC,a=Object(r.useCallback)((function(){n()}),[n]);return Object(b.jsxs)("nav",{className:"navbar navbar-dark bg-primary sticky-top ",children:[Object(b.jsxs)(o.b,{to:"/",className:"navbar-brand mr-auto",children:[Object(b.jsx)("img",{src:l,width:"35",height:"35",className:"d-inline-block align-top mr-3",alt:"",loading:"lazy"}),"Contacts APP"]}),t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.b,{to:"/contacts",className:"btn btn-success my-2 my-sm-0 mr-3",children:"Contacts"}),Object(b.jsx)(o.b,{to:"/contacts",onClick:a,className:"btn btn-danger my-2 my-sm-0 mr-3",children:"Log Out"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.b,{to:"/login",className:"btn btn-success my-2 my-sm-0 mr-3",children:"Log In"}),Object(b.jsx)(o.b,{to:"/signUp",className:"btn btn-info my-2 my-sm-0",children:"Sign Up"})]})]})})),m=n(10),O=n(89),p=n(8),h=Object(m.c)({app:p.e,profile:d.c}),v=Object(m.e)(h,Object(m.a)(O.a)),x=function(e){var t=e.size,n=e.margin;return Object(b.jsx)("svg",{width:t,height:t,fill:"currentColor",className:"bi bi-star-fill "+n,viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})},g=function(){return Object(b.jsx)("svg",{width:"25",height:"25",fill:"currentColor",className:"bi bi-person-lines-fill mr-4",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"})})},C=function(){return Object(b.jsxs)("li",{className:"media list-group-item list-group-item-warning",children:[Object(b.jsx)(x,{size:24,margin:"mr-3"}),"Favorite contacts"]})},N=function(){return Object(b.jsxs)("li",{className:"list-group-item list-group-item-primary",children:[Object(b.jsx)(g,{}),"All contacts"]})},A=n.p+"static/media/anonim.5827c6ca.png",T=function(){return Object(b.jsxs)("svg",{width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil-square  mr-2",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),Object(b.jsx)("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})]})},w=function(){return Object(b.jsx)("svg",{width:"16",height:"16",fill:"currentColor",className:"bi bi-telephone-fill mr-2",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"})})},y=function(e){var t=e.contact,n=e.toggleFavoriteUser,a=Object(r.useCallback)((function(){n(t.id)}),[n,t.id]);return Object(b.jsxs)("li",{className:"media list-group-item list-group-item-action d-flex align-items-center",children:[Object(b.jsx)(o.b,{to:"/show/"+t.id,className:"d-flex mr-auto",children:Object(b.jsx)("div",{className:"overflow-hidden mr-4 size_show",children:Object(b.jsx)("img",{src:t.avatar||A,width:"100%",height:"auto",className:"rounded float-left mr-3",alt:""})})}),Object(b.jsxs)("div",{className:"media-body mr-auto",children:[Object(b.jsx)(o.b,{to:"/show/"+t.id,className:"d-flex mr-auto",children:Object(b.jsx)("h5",{className:"mt-0 mb-1",children:t.name})}),t.phones.map((function(e){return Object(b.jsx)("a",{className:"d-block",href:"tel:"+e.number,children:e.number},e.id)}))]}),Object(b.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(b.jsxs)("a",{href:"tel:"+t.phones[0].number,className:"btn btn-success",children:[Object(b.jsx)(w,{})," Call"]}),Object(b.jsx)("button",{className:"btn btn-warning",onClick:a,children:Object(b.jsx)(x,{size:18})}),Object(b.jsxs)(o.b,{to:"/edit/"+t.id,type:"button",className:"btn btn-danger",children:[Object(b.jsx)(T,{}),"Edit"]})]})]})},k=function(e){var t=e.favorites,n=e.toggleFavoriteUser,a=Object(r.useCallback)((function(e){n(e,!1)}),[n]);return Object(b.jsxs)(b.Fragment,{children:[t.length>0&&Object(b.jsx)(C,{}),t.map((function(e){return Object(b.jsx)(y,{contact:e,toggleFavoriteUser:a},e.id)}))]})},E=function(e){var t=e.contacts,n=e.toggleFavoriteUser,a=Object(r.useCallback)((function(e){n(e,!0)}),[n]);return Object(b.jsxs)(b.Fragment,{children:[t.length>0&&Object(b.jsx)(N,{}),t.map((function(e){return Object(b.jsx)(y,{contact:e,toggleFavoriteUser:a},e.id)}))]})},S=n(41),F=n(2),L=n(95),_=function(e){return{isAuth:e.app.isAuth}},z=function(e){return Object(u.b)(_)((function(t){t.isAuth;var n=Object(L.a)(t,["isAuth"]);return t.isAuth?Object(b.jsx)(e,Object(F.a)({},n)):Object(b.jsx)(s.a,{to:"/login"})}))},I={changeFavoriteUserTC:d.b},P=Object(m.d)(Object(u.b)((function(e){return{profile:e.profile.profile,error:e.app.error}}),I),z)((function(e){var t,n,a=e.profile,c=e.error,i=e.changeFavoriteUserTC,s=Object(r.useCallback)((function(e,t){i(e,t)}),[i]),l=null===(t=a.contacts)||void 0===t?void 0:t.filter((function(e){var t;return null===(t=a.favorites)||void 0===t?void 0:t.includes(e.id)})),u=null===(n=a.contacts)||void 0===n?void 0:n.filter((function(e){var t;return!(null===(t=a.favorites)||void 0===t?void 0:t.includes(e.id))}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"mt-3 d-flex align-items-center justify-content-between",children:[Object(b.jsxs)("h2",{children:[a.name,"'s contacts:"]}),Object(b.jsx)(o.b,{to:"/newContact",className:"btn btn-success",children:"Add contact"})]}),c&&Object(b.jsx)(S.a,{message:c.message}),Object(b.jsx)("div",{className:"my-3",children:Object(b.jsxs)("ul",{className:"list-unstyled list-group col-12 pr-0",children:[l&&Object(b.jsx)(k,{favorites:l,toggleFavoriteUser:s}),u&&Object(b.jsx)(E,{contacts:u,toggleFavoriteUser:s})]})})]})})),R=function(){return Object(b.jsxs)("div",{className:"text-primary display-1 text-center mt-5 pt-5",children:[Object(b.jsx)("div",{className:"font-weight-bold mt-5",children:"404"}),"NotFound"]})},D=n(30),U=n(21),M=n(27),B=n(37),q=n(33),H=n.n(q),J=n.p+"static/media/life.16c3f13d.png",V=n.p+"static/media/kiev.b8ad4e57.png",G=n.p+"static/media/vodafone.fdca0659.jpg";var Z=function(e){var t=e.field,n=e.form,a=e.push,c=e.remove,i=e.length,s=e.phone,o=e.i,l=n.errors,u=n.values,d=t.name,j=Object(U.e)(l,d),f=Object(r.useCallback)((function(){return c()}),[c]),m=Object(r.useCallback)((function(){return a()}),[a]),O=function(e){var t=A;return e.match(/(063|073|093)/)?t=J:e.match(/(067|068|096|097|098)/)?t=V:e.match(/(050|066|095|099)/)&&(t=G),t}(s),p=u.phones[o].number&&!j;return Object(b.jsx)("div",{className:"form-row",children:Object(b.jsx)("div",{className:"col-md-12 mb-3",children:Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("img",{src:O,width:"39",height:"39",className:"rounded float-left mr-3",alt:""}),Object(b.jsx)("input",Object(F.a)(Object(F.a)({},t),{},{placeholder:"+380930000000",className:H()("form-control",{"is-valid":p},{"is-invalid":j})})),Object(b.jsxs)("div",{className:"input-group-append",children:[i>1&&Object(b.jsx)("button",{className:"btn btn-danger",onClick:f,type:"button",children:"Delete"}),Object(b.jsx)("button",{className:"btn btn-success",onClick:m,type:"button",children:"Add phone"})]}),Object(b.jsx)("div",{className:H()({"valid-feedback":p},{"invalid-feedback":j}),children:j||u.phones[o].number&&"Looks good!"})]})})})},K=function(e){var t=e.contact,n=e.deleteContact,a=e.editContact,c=e.newContactTC,i=e.error,s=Object(r.useCallback)((function(){n&&n(t.id)}),[n,t.id]),l=M.c({name:M.d().matches(/^[a-z\u0430-\u0449\u0456\u0454\u0457\u0491\u044e\u044c\u044f\u044b\u0451\u044a\s]+$/i,"Field should contain only letters").min(3).max(100,"Too Long!").required("Name field is required"),email:M.d().max(100,"Too Long!").email("Incorrect email"),phones:M.a().of(M.c().shape({id:M.b(),number:M.d().trim().matches(/^(\+38)?0(93|63|67|68|96|97|98|50|66|95|99)\d{7}$/,"Incorrect phone number. Operator does not exist. Use life, kievstar or vodafone").required("Field is required")}))}),u=Object(r.useState)(null),d=Object(D.a)(u,2),j=d[0],f=d[1];return Object(b.jsxs)("div",{className:"my-4",children:[i&&Object(b.jsx)(S.a,{message:i.message}),Object(b.jsx)(U.d,{initialValues:t,validationSchema:l,onSubmit:function(e){a?a(e):c&&c(e)},className:"my-4",children:function(e){if("string"!==typeof e.values.avatar){var r=new FileReader;r.onload=function(e){e.target&&f(e.target.result)},r.readAsDataURL(e.values.avatar)}return Object(b.jsxs)(U.c,{children:[Object(b.jsxs)("div",{className:"form-group d-flex",children:[Object(b.jsx)("div",{className:"overflow-hidden mr-4 size_edit",children:Object(b.jsx)("img",{src:j||t.avatar||A,className:"rounded float-left mr-3",alt:""})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"image",children:"Choose photo"}),Object(b.jsx)("input",{type:"file",name:"avatar",id:"image",accept:".jpg, .jpeg",className:"form-control-file",onChange:function(t){e.setFieldValue("avatar",t.target.files&&t.target.files[0])}})]})]}),Object(b.jsx)(B.a,{name:"name",placeholder:"Name"}),Object(b.jsx)("div",{className:"mb-4",children:Object(b.jsx)("p",{className:"mr-2 d-inline",children:"Phones"})}),Object(b.jsx)(U.b,{name:"phones",children:function(e){var t=e.push,n=e.remove,r=e.form.values.phones,a=r.length,c=r[a-1].id;return r.map((function(e,r){var i="phones[".concat(r,"].number");return Object(b.jsx)(U.a,{component:Z,name:i,length:a,lastId:c,phone:e.number,i:r,push:function(){return t({id:c+1,number:""})},remove:function(){return n(r)}},e.id)}))}}),Object(b.jsx)(B.a,{name:"email",type:"email",placeholder:"name@example.com"}),Object(b.jsx)(B.a,{name:"address",placeholder:"Address"}),Object(b.jsx)(B.a,{name:"comment",placeholder:"Comment"}),Object(b.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(b.jsx)(o.b,{to:"/contacts",className:"btn btn-info",children:"Cancel"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success",children:"Save"}),n&&Object(b.jsx)(o.b,{to:"/contacts",className:"btn btn-danger",onClick:s,children:"Delete"})]})]})}})]})},X={newContactTC:d.g},Y=Object(m.d)(Object(u.b)((function(e){var t;return{contacts:null===(t=e.profile.profile)||void 0===t?void 0:t.contacts,error:e.app.error}}),X),z)((function(e){var t=e.contacts,n=e.error,a=e.newContactTC,c={id:(t&&t.length>0?t[t.length-1].id:0)+1,name:"",avatar:"",email:"",address:"",comment:"",phones:[{id:1,number:""}]},i=Object(s.g)(),o=Object(r.useCallback)((function(e){a(e).then((function(e){e&&i.push("/contacts")}))}),[a,i]);return Object(b.jsx)(K,{contact:c,editContact:o,error:n})})),$=function(e){var t=e.fieldName,n=e.value;return Object(b.jsxs)("p",{className:"card-title font-weight-bold",children:[t,":",Object(b.jsxs)("span",{className:"font-weight-normal",children:[" ",n||"Doesn`t set"]})]})},W=function(e){var t=e.user;return Object(b.jsxs)("div",{className:"card border-primary mb-3 mt-4",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("p",{className:"h4",children:t.name})}),Object(b.jsxs)("div",{className:"card-body text-primary",children:[Object(b.jsxs)("div",{className:"form-group d-flex",children:[Object(b.jsx)("div",{className:"overflow-hidden size_show_page float-left mr-3",children:Object(b.jsx)("img",{src:t.avatar||A,alt:""})}),Object(b.jsxs)("div",{children:[Object(b.jsx)($,{fieldName:"Email",value:t.email}),Object(b.jsx)($,{fieldName:"Address",value:t.address}),Object(b.jsx)($,{fieldName:"Comment",value:t.comment}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"card-title font-weight-bold",children:"Phones: "}),t.phones.map((function(e){return Object(b.jsx)("a",{href:"tel:"+e.number,className:"d-block",children:e.number},e.id)}))]})]})]}),Object(b.jsx)(o.b,{to:"/contacts",className:"btn btn-primary float-right px-5",children:"Back"})]})]})},Q={ShowErrorTC:p.c},ee=Object(m.d)(Object(u.b)((function(e){var t;return{contacts:null===(t=e.profile.profile)||void 0===t?void 0:t.contacts}}),Q),z)((function(e){var t=e.contacts,n=e.ShowErrorTC,r=Object(s.h)(),a=t.find((function(e){return e.id===+r.id}));return a?Object(b.jsx)(W,{user:a}):(n({message:"User wasn`t found"}),Object(b.jsx)(s.a,{to:"/contacts"}))})),te=n(65),ne=n.n(te),re=function(){return Object(b.jsx)("div",{className:"d-flex justify-content-center align-items-center "+ne.a.min_height,children:Object(b.jsx)("div",{className:"spinner-border text-primary "+ne.a.size,role:"status",children:Object(b.jsx)("span",{className:"sr-only",children:"Loading..."})})})},ae={deleteContactTC:d.d,editContactDataTC:d.e},ce=Object(m.d)(Object(u.b)((function(e){var t;return{contacts:null===(t=e.profile.profile)||void 0===t?void 0:t.contacts,error:e.app.error}}),ae),z)((function(e){var t=e.contacts,n=e.deleteContactTC,a=e.editContactDataTC,c=e.error,i=Object(r.useCallback)((function(e){n(e)}),[n]),o=Object(s.g)(),l=Object(r.useCallback)((function(e){a(e).then((function(e){e&&o.push("/contacts")}))}),[a,o]),u=Object(s.h)(),d=null===t||void 0===t?void 0:t.find((function(e){return e.id===+u.id}));return d?Object(b.jsx)(K,{contact:d,deleteContact:i,editContact:l,error:c}):(Object(p.c)({message:"User wasn`t found"}),Object(b.jsx)(s.a,{to:"/contacts"}))})),ie=function(e){return function(t){return Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(re,{}),children:Object(b.jsx)(e,Object(F.a)({},t))})}},se=function(){return Object(b.jsxs)("div",{className:"card-footer d-flex justify-content-around",children:[Object(b.jsx)("small",{className:"text-muted",children:"GeekHub 2020 - 2021"}),Object(b.jsx)("small",{className:"text-muted",children:"Designed by Yuliia Kavytska"})]})},oe=ie(a.a.lazy((function(){return n.e(3).then(n.bind(null,208))}))),le=ie(a.a.lazy((function(){return n.e(4).then(n.bind(null,209))}))),ue={initializeAppTC:p.f},de=Object(u.b)((function(e){return{initialized:e.app.initialized}}),ue)((function(e){var t=e.initialized,n=e.initializeAppTC;return Object(r.useEffect)((function(){n()}),[n]),Object(b.jsxs)("div",{className:"d-flex flex-column app_height",children:[Object(b.jsx)(f,{}),Object(b.jsx)("main",{className:"container mb-3 flex-grow-1",children:t?Object(b.jsxs)(s.d,{children:[Object(b.jsx)(s.b,{path:"/",exact:!0,render:function(){return Object(b.jsx)(P,{})}}),Object(b.jsx)(s.b,{path:"/login",exact:!0,render:function(){return Object(b.jsx)(oe,{})}}),Object(b.jsx)(s.b,{path:"/signup",exact:!0,render:function(){return Object(b.jsx)(le,{})}}),Object(b.jsx)(s.b,{path:"/contacts",exact:!0,render:function(){return Object(b.jsx)(P,{})}}),Object(b.jsx)(s.b,{path:"/newContact",render:function(){return Object(b.jsx)(Y,{})}}),Object(b.jsx)(s.b,{path:"/show/:id?",render:function(){return Object(b.jsx)(ee,{})}}),Object(b.jsx)(s.b,{path:"/edit/:id?",render:function(){return Object(b.jsx)(ce,{})}}),Object(b.jsx)(s.b,{path:"/*",render:function(){return Object(b.jsx)(R,{})}})]}):Object(b.jsx)(re,{})}),Object(b.jsx)(se,{})]})})),be=function(){return Object(b.jsx)(u.a,{store:v,children:Object(b.jsx)(o.a,{children:Object(b.jsx)(de,{})})})},je=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,210)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(be,{})}),document.getElementById("root")),je()},23:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){var t=new FormData;for(var n in e)e.hasOwnProperty(n)&&"string"!==typeof e[n]&&"avatar"!==n?t.append(n,JSON.stringify(e[n])):t.append(n,e[n]);return t},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={method:t,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:8000/"}};return Object.keys(n).length>0&&(r.body=JSON.stringify(n)),fetch(e,r)}},37:function(e,t,n){"use strict";var r=n(2),a=(n(1),n(21)),c=n(33),i=n.n(c),s=n(0);t.a=function(e){var t=e.name,n=e.type,c=void 0===n?"text":n,o=e.placeholder,l=t.charAt(0).toUpperCase()+t.slice(1);return Object(s.jsx)("div",{className:"form-row",children:Object(s.jsxs)("div",{className:"col-md-12 mb-3",children:[Object(s.jsx)("label",{htmlFor:t,children:l}),Object(s.jsx)(a.a,{name:t,children:function(e){var n=e.form,a=e.field,l=e.meta,u=(n.values[t]||n.touched[t])&&l.error,d=n.values[t]&&!l.error;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("input",Object(r.a)(Object(r.a)({},a),{},{type:c,id:t,placeholder:o,className:i()("form-control",{"is-valid":d},{"is-invalid":u})})),Object(s.jsx)("div",{className:i()({"valid-feedback":d},{"invalid-feedback":u}),children:u||n.values[t]&&"Looks good!"})]})}})]})})}},41:function(e,t,n){"use strict";n(1);var r=n(0);t.a=function(e){var t=e.message;return Object(r.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:t})}},65:function(e,t,n){e.exports={min_height:"Preloader_min_height__2nKwb",size:"Preloader_size__2aKvs"}},8:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return f}));var r=n(5),a=n.n(r),c=n(17),i=n(2),s=n(13),o=n(23),l={initialized:!1,isFetching:!0,error:null,isAuth:!1},u={setInitialized:function(){return{type:"CA/APP/SET_INITIALIZED"}},setError:function(e){return{type:"CA/APP/SET_ERROR",err:e}},setAuthorized:function(e){return{type:"CA/PROFILE/SET_AUTHORIZED",event:e}}},d=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("CA/user");case 2:if(!(r=e.sent)){e.next=14;break}if(!(c=JSON.parse(r)).hasOwnProperty("email")||!c.hasOwnProperty("password")){e.next=12;break}return e.next=8,t(Object(s.f)(c));case 8:e.sent&&t(u.setAuthorized(!0)),e.next=14;break;case 12:return e.next=14,t(f({message:"Your data is incorrect. Log In with correct login and password"}));case 14:n().app.initialized||t(u.setInitialized());case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.a)("/api/signUp","POST",e);case 2:if(200!==(r=t.sent).status){t.next=9;break}return localStorage.setItem("CA/user",JSON.stringify({email:e.email,password:e.password})),t.next=7,n(d());case 7:t.next=14;break;case 9:return t.next=11,r.json();case 11:return c=t.sent,t.next=14,n(f(c));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.setItem("CA/user",JSON.stringify(e)),t.next=3,n(d());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(u.setError(e)),setTimeout((function(){return r(u.setError(null))}),t);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CA/APP/SET_INITIALIZED":return Object(i.a)(Object(i.a)({},e),{},{initialized:!0});case"CA/APP/SET_ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:t.err});case"CA/PROFILE/SET_AUTHORIZED":return Object(i.a)(Object(i.a)({},e),{},{isAuth:t.event});default:return e}}}},[[206,1,2]]]);
//# sourceMappingURL=main.adb63744.chunk.js.map