{"version":3,"sources":["store/profile-reducer.ts","assets/image/logo.png","components/Header/Header.tsx","store/index.ts","components/common/StarIcon.tsx","components/common/UsersIcon.tsx","components/Contacts/ContactsType.tsx","assets/image/anonim.png","components/common/EditingIcon.tsx","components/common/PhoneIcon.tsx","components/Contacts/Contact.tsx","components/Contacts/FavoriteContacts.tsx","components/Contacts/ContactsList.tsx","components/HOC/withAuthRedirect.tsx","components/Contacts/Contacts.tsx","components/404/NotFound.tsx","assets/image/life.png","assets/image/kiev.png","assets/image/vodafone.jpg","components/common/FormFields/PhoneField.tsx","components/common/defineOperator.tsx","components/Edit/Edit.tsx","components/NewContact/NewContact.tsx","components/Show/Show.tsx","components/Show/ShowContainer.tsx","components/common/Preloader/Preloader.tsx","components/Edit/EditContainer.tsx","components/HOC/withSuspence.tsx","components/Footer/Footer.tsx","App.tsx","reportWebVitals.ts","index.tsx","store/commonFunktion.ts","components/common/FormFields/FormField.tsx","components/common/AppError.tsx","components/common/Preloader/Preloader.module.css","store/app-reducer.ts"],"names":["initialState","profile","actions","type","id","event","contact","data","getUserTC","userData","dispatch","a","ajax","response","status","json","jsonResp","ShowErrorTC","changeFavoriteUserTC","contactId","getState","userId","message","deleteContactTC","deletedContact","contacts","find","e","isFavoriteUser","favorites","LogOutTC","appActions","setAuthorized","localStorage","removeItem","editContactDataTC","currentContactState","formData","createFormData","avatar","name","fetch","method","body","newContactTC","profileReducer","state","action","favList","filter","updatedContacts","map","withNewContact","dispatchType","connect","isAuth","app","logOut","useCallback","className","to","src","logo","width","height","alt","loading","onClick","reducersBranch","combineReducers","appReducer","store","createStore","applyMiddleware","thunkMiddleware","StarIcon","size","margin","fill","viewBox","d","UsersIcon","Favorite","AllContacts","EditingIcon","fillRule","PhoneIcon","Contact","toggleFavoriteUser","changeFavoriteStatus","anonim","phones","phone","href","number","role","aria-label","FavoriteContacts","deleteFromFavorite","length","ContactsList","mapState","withAuthRedirect","Component","props","rest","dispatchProps","compose","error","favoriteFilter","includes","otherContacts","AppError","NotFound","PhoneField","field","form","push","remove","i","errors","values","errorMessage","getIn","removeCurrentPhone","addPhone","operator","match","life","kiev","vodafone","defineOperator","isValid","placeholder","cn","Edit","deleteContact","editContact","deleteCurrentContact","validationSchema","yup","matches","min","max","required","email","of","shape","trim","useState","loadedImg","setImg","initialValues","onSubmit","formProps","reader","FileReader","onload","target","result","readAsDataURL","htmlFor","accept","onChange","setFieldValue","files","FormField","lastId","component","mapDispatch","newContact","address","comment","history","useHistory","then","Field","fieldName","value","Show","user","dispatchState","uri","useParams","Preloader","style","min_height","param","withSuspense","fallback","Footer","SuspendedLogin","React","lazy","SuspendedSignUp","initializeAppTC","AppConnected","initialized","useEffect","path","exact","render","AppContainer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","FormData","key","hasOwnProperty","append","JSON","stringify","url","settings","headers","Object","keys","nameField","charAt","toUpperCase","slice","meta","isInvalid","touched","module","exports","isFetching","setInitialized","setError","err","getItem","storage","parse","RegisterTC","setItem","password","LogInTC","time","setTimeout"],"mappings":"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","file":"static/js/main.adb63744.chunk.js","sourcesContent":["import {BaseThunkType, InferActionsTypes} from \".\"\r\nimport {IContact, IUser} from \"../types/types\"\r\nimport {actions as appActions, ActionsType as appActionsTypes, ShowErrorTC} from './app-reducer'\r\nimport {ajax, createFormData} from \"./commonFunktion\"\r\n\r\nlet initialState = {\r\n    profile: null as IUser | null\r\n}\r\n\r\nconst profileReducer = (state = initialState, action: ActionTypes): StateType => {\r\n    switch (action.type) {\r\n        case \"CA/PROFILE/SET_PROFILE\":\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case \"CA/CONTACTS/TOGGLE_FAV_USER\":\r\n            let favList\r\n            if (action.event) {\r\n                if (!state.profile?.favorites) {\r\n                    favList = [action.id]\r\n                } else {\r\n                    favList = [...state.profile.favorites, action.id]\r\n                }\r\n            } else {\r\n                favList = state.profile?.favorites?.filter(e => e !== action.id)\r\n            }\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    favorites: favList\r\n                } as IUser\r\n            }\r\n        case \"CA/CONTACTS/DELETE_FROM_FAVORITE\":\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    favorites: state.profile?.favorites?.filter(id => id !== action.id)\r\n                } as IUser\r\n            }\r\n        case \"CA/CONTACTS/DELETE_CONTACT\":\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    contacts: state.profile?.contacts?.filter(e => e.id !== action.id)\r\n                } as IUser\r\n            }\r\n        case \"CA/CONTACTS/EDIT_USER_DATA\":\r\n            const updatedContacts = state.profile?.contacts?.map((e) => e.id === action.data.id ? action.data : e)\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    contacts: updatedContacts\r\n                } as IUser\r\n            }\r\n        case \"CA/CONTACTS/ADD_CONTACT\":\r\n            let withNewContact\r\n            if (state.profile?.contacts) {\r\n                withNewContact = [...state.profile.contacts, action.contact]\r\n            } else {\r\n                withNewContact = [action.contact]\r\n            }\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    contacts: withNewContact\r\n                } as IUser\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setProfile: (profile: IUser | null) => ({type: 'CA/PROFILE/SET_PROFILE', profile} as const),\r\n    toggleFavoriteUser: (id: number, event: boolean) => ({type: 'CA/CONTACTS/TOGGLE_FAV_USER', id, event} as const),\r\n    deleteFormFavorite: (id: number) => ({type: 'CA/CONTACTS/DELETE_FROM_FAVORITE', id} as const),\r\n    deleteContact: (id: number) => ({type: 'CA/CONTACTS/DELETE_CONTACT', id} as const),\r\n    addContact: (contact: IContact) => ({type: 'CA/CONTACTS/ADD_CONTACT', contact} as const),\r\n    editUserData: (data: IContact) => ({type: 'CA/CONTACTS/EDIT_USER_DATA', data} as const)\r\n}\r\n\r\nexport const getUserTC = (userData: { email: string, password: string }): ThunkType<Promise<boolean | undefined>> => async (dispatch) => {\r\n    const response = await ajax('/api/getUser', 'POST', userData)\r\n\r\n    if (response.status === 200) {\r\n        const jsonResp = await response.json()\r\n        const profile = jsonResp.data\r\n        dispatch(actions.setProfile(profile))\r\n        return true\r\n    } else if (response.status === 500) {\r\n        const jsonResp = await response.json()\r\n        await dispatch(ShowErrorTC(jsonResp))\r\n    }\r\n}\r\n\r\nexport const changeFavoriteUserTC = (contactId: number, event: boolean): ThunkType => async (dispatch, getState) => {\r\n    dispatch(actions.toggleFavoriteUser(contactId, event))\r\n    const userId = getState().profile.profile?.id\r\n    let response\r\n    if (event) {\r\n        response = await ajax(`/api/user/${userId}/favorite/${contactId}`, 'PUT')\r\n    } else {\r\n        response = await ajax(`/api/user/${userId}/favorite/${contactId}`, 'DELETE')\r\n    }\r\n    if (response.status !== 200) {\r\n        dispatch(actions.toggleFavoriteUser(contactId, !event))\r\n        if (response.status === 500) {\r\n            const data = await response.json()\r\n            await dispatch(ShowErrorTC(data))\r\n        } else {\r\n            await dispatch(ShowErrorTC({message: 'Server error. Something wrong'}))\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteContactTC = (id: number): ThunkType => async (dispatch, getState) => {\r\n    const deletedContact = getState().profile.profile?.contacts?.find(e => e.id === id)\r\n    const isFavoriteUser = getState().profile.profile?.favorites?.find(id => id === deletedContact?.id)\r\n    dispatch(actions.deleteContact(id))\r\n    if (isFavoriteUser && deletedContact?.id) {\r\n        dispatch(actions.deleteFormFavorite(deletedContact?.id))\r\n    }\r\n\r\n    const userId = getState().profile.profile?.id\r\n    const response = await ajax(`/api/user/${userId}/contact/${id}`, 'DELETE')\r\n    if (response.status !== 200) {\r\n        if (deletedContact) {\r\n            dispatch(actions.addContact(deletedContact))\r\n            if (isFavoriteUser) {\r\n                dispatch(actions.toggleFavoriteUser(deletedContact.id, true))\r\n            }\r\n        }\r\n        if (response.status === 500) {\r\n            const data = await response.json()\r\n            await dispatch(ShowErrorTC(data))\r\n        } else {\r\n            await dispatch(ShowErrorTC({message: 'Server error. Something wrong, user can`t be deleted'}))\r\n        }\r\n    }\r\n}\r\n\r\nexport const LogOutTC = (): ThunkType => async (dispatch) => {\r\n    dispatch(appActions.setAuthorized(false))\r\n    dispatch(actions.setProfile(null))\r\n    localStorage.removeItem('CA/user')\r\n}\r\n\r\nexport const editContactDataTC = (data: IContact<string | File>): ThunkType<Promise<boolean | undefined>> => async (dispatch, getState) => {\r\n    const currentContactState = getState().profile.profile?.contacts?.find(e => e.id === data.id)\r\n\r\n    const formData = createFormData(data)\r\n    const userId = getState().profile.profile?.id\r\n\r\n    if (typeof data.avatar === 'object') {\r\n        data.avatar = '/' + data.avatar.name\r\n    }\r\n    dispatch(actions.editUserData(data as IContact))\r\n\r\n    let response = await fetch(`/api/user/${userId}/contact/edit`, {method: \"POST\", body: formData})\r\n    if (response.status === 200) return true\r\n\r\n    dispatch(actions.editUserData(currentContactState as IContact))\r\n    if (response.status === 500) {\r\n        const data = await response.json()\r\n        await dispatch(ShowErrorTC(data))\r\n    } else {\r\n        await dispatch(ShowErrorTC({message: 'Server error. Something wrong, user`s info can`t be changed'}))\r\n    }\r\n}\r\n\r\nexport const newContactTC = (data: IContact<string | File>): ThunkType<Promise<boolean | undefined>> => async (dispatch, getState) => {\r\n    const formData = createFormData(data)\r\n    const userId = getState().profile.profile?.id\r\n\r\n    if (typeof data.avatar === 'object') {\r\n        data.avatar = '/' + data.avatar.name\r\n    }\r\n    dispatch(actions.addContact(data as IContact))\r\n\r\n    let response = await fetch(`/api/user/${userId}/contact/new`, {method: \"POST\", body: formData})\r\n    if (response.status === 200) return true\r\n\r\n    dispatch(actions.deleteContact(data.id))\r\n    if (response.status === 500) {\r\n        const data = await response.json()\r\n        await dispatch(ShowErrorTC(data))\r\n    } else {\r\n        await dispatch(ShowErrorTC({message: 'Server error. Something wrong, user`s info can`t be changed'}))\r\n    }\r\n}\r\n\r\ntype StateType = typeof initialState\r\nexport type ActionTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType<P = Promise<void>> = BaseThunkType<ActionTypes | appActionsTypes, P>\r\nexport default profileReducer","export default __webpack_public_path__ + \"static/media/logo.87cf462c.png\";","import React, {useCallback} from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport logo from '../../assets/image/logo.png';\r\nimport {connect} from \"react-redux\";\r\nimport {StoreType} from \"../../store\";\r\nimport {LogOutTC} from \"../../store/profile-reducer\";\r\n\r\nconst Header: React.FC<StateType> = ({isAuth, LogOutTC}) => {\r\n    const logOut = useCallback(() => {\r\n        LogOutTC()\r\n    }, [LogOutTC])\r\n\r\n    return <nav className=\"navbar navbar-dark bg-primary sticky-top \">\r\n        <NavLink to='/' className=\"navbar-brand mr-auto\">\r\n            <img src={logo} width=\"35\" height=\"35\"\r\n                 className=\"d-inline-block align-top mr-3\" alt=\"\" loading=\"lazy\"/>\r\n            Contacts APP\r\n        </NavLink>\r\n        {isAuth\r\n            ? <>\r\n                <NavLink to='/contacts' className=\"btn btn-success my-2 my-sm-0 mr-3\">Contacts</NavLink>\r\n                <NavLink to='/contacts' onClick={logOut} className=\"btn btn-danger my-2 my-sm-0 mr-3\">Log Out</NavLink>\r\n            </>\r\n            : <>\r\n                <NavLink to='/login' className=\"btn btn-success my-2 my-sm-0 mr-3\">Log In</NavLink>\r\n                <NavLink to='/signUp' className=\"btn btn-info my-2 my-sm-0\">Sign Up</NavLink>\r\n            </>\r\n        }\r\n\r\n    </nav>\r\n}\r\nconst mapState = (state: StoreType) => ({\r\n    isAuth: state.app.isAuth\r\n})\r\nconst dispatchType = {LogOutTC}\r\n\r\ntype StateType = ReturnType<typeof mapState> & {LogOutTC: () => void}\r\n\r\nexport default connect(mapState, dispatchType)(Header)","import {Action, applyMiddleware, combineReducers, createStore} from \"redux\"\r\nimport thunkMiddleware, {ThunkAction} from 'redux-thunk'\r\nimport appReducer from \"./app-reducer\"\r\nimport profileReducer from \"./profile-reducer\"\r\n\r\nlet reducersBranch = combineReducers({\r\n    app: appReducer,\r\n    profile: profileReducer,\r\n})\r\n\r\nconst store = createStore(reducersBranch, applyMiddleware(thunkMiddleware))\r\n\r\nexport type StoreType = ReturnType<typeof store.getState>\r\n\r\nexport type InferActionsTypes<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U : never\r\nexport type BaseThunkType<AT extends Action, P = Promise<void>> = ThunkAction<P, StoreType, unknown, AT>\r\n\r\nexport default store\r\n","import React from \"react\"\r\n\r\ninterface IState {\r\n    size: number\r\n    margin?: string\r\n}\r\n\r\nconst StarIcon: React.FC<IState> = ({size, margin}) => {\r\n    return <svg width={size} height={size} fill=\"currentColor\"\r\n                className={\"bi bi-star-fill \" + margin} viewBox=\"0 0 16 16\">\r\n        <path\r\n            d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"/>\r\n    </svg>\r\n}\r\n\r\nexport default StarIcon;","import React from \"react\"\r\n\r\nconst UsersIcon: React.FC<{}> = () => {\r\n    return <svg  width=\"25\" height=\"25\" fill=\"currentColor\"\r\n                 className=\"bi bi-person-lines-fill mr-4\" viewBox=\"0 0 16 16\">\r\n        <path\r\n            d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\"/>\r\n    </svg>\r\n}\r\n\r\nexport default UsersIcon;","import React from \"react\"\r\nimport StarIcon from \"../common/StarIcon\"\r\nimport UsersIcon from \"../common/UsersIcon\"\r\n\r\nexport const Favorite: React.FC = () => {\r\n    return <li className=\"media list-group-item list-group-item-warning\">\r\n        <StarIcon size={24} margin='mr-3' />Favorite contacts\r\n    </li>\r\n}\r\n\r\nexport const AllContacts: React.FC = () => {\r\n    return <li className=\"list-group-item list-group-item-primary\">\r\n        <UsersIcon />All contacts\r\n    </li>\r\n}","export default __webpack_public_path__ + \"static/media/anonim.5827c6ca.png\";","import React from \"react\";\r\n\r\nconst EditingIcon: React.FC<{}> = () => {\r\n    return <svg  width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                 className=\"bi bi-pencil-square  mr-2\" viewBox=\"0 0 16 16\">\r\n        <path\r\n            d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"/>\r\n        <path fillRule=\"evenodd\"\r\n              d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"/>\r\n    </svg>\r\n}\r\n\r\nexport default EditingIcon;","import React from \"react\";\r\n\r\nconst PhoneIcon: React.FC<{}> = () => {\r\n    return <svg  width=\"16\" height=\"16\" fill=\"currentColor\"\r\n          className=\"bi bi-telephone-fill mr-2\" viewBox=\"0 0 16 16\">\r\n        <path fillRule=\"evenodd\"\r\n              d=\"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\"/>\r\n    </svg>\r\n}\r\n\r\nexport default PhoneIcon;","import React, {useCallback} from 'react'\r\nimport {NavLink} from \"react-router-dom\"\r\nimport anonim from \"../../assets/image/anonim.png\"\r\nimport EditingIcon from '../common/EditingIcon'\r\nimport PhoneIcon from '../common/PhoneIcon'\r\nimport StarIcon from \"../common/StarIcon\"\r\nimport {IContact} from \"../../types/types\"\r\n\r\ninterface IState {\r\n    contact: IContact\r\n    toggleFavoriteUser: (id: number) => void\r\n}\r\n\r\nconst Contact: React.FC<IState> = ({contact, toggleFavoriteUser}) => {\r\n\r\n    const changeFavoriteStatus = useCallback(() => {\r\n        toggleFavoriteUser(contact.id)\r\n    }, [toggleFavoriteUser, contact.id])\r\n\r\n    return <li className=\"media list-group-item list-group-item-action d-flex align-items-center\">\r\n        <NavLink to={'/show/' + contact.id} className=\"d-flex mr-auto\">\r\n            <div className='overflow-hidden mr-4 size_show'>\r\n                <img src={contact.avatar || anonim} width=\"100%\" height=\"auto\"\r\n                     className=\"rounded float-left mr-3\" alt=\"\"/>\r\n            </div>\r\n        </NavLink>\r\n        <div className=\"media-body mr-auto\">\r\n            <NavLink to={'/show/' + contact.id} className=\"d-flex mr-auto\">\r\n                <h5 className=\"mt-0 mb-1\">{contact.name}</h5>\r\n            </NavLink>\r\n            {contact.phones.map(phone =>\r\n                <a key={phone.id} className=\"d-block\" href={\"tel:\" + phone.number}>{phone.number}</a>\r\n            )}\r\n        </div>\r\n        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n            <a href={\"tel:\" + contact.phones[0].number} className='btn btn-success'>\r\n                <PhoneIcon/> Call\r\n            </a>\r\n            <button className='btn btn-warning' onClick={changeFavoriteStatus}>\r\n                <StarIcon size={18}/>\r\n            </button>\r\n            <NavLink to={'/edit/' + contact.id} type='button' className='btn btn-danger'>\r\n                <EditingIcon/>Edit\r\n            </NavLink>\r\n        </div>\r\n    </li>\r\n}\r\n\r\nexport default Contact","import React, {useCallback} from \"react\"\r\nimport {Favorite} from \"./ContactsType\"\r\nimport {IContact} from \"../../types/types\"\r\nimport Contact from \"./Contact\"\r\n\r\ninterface IState {\r\n    favorites: Array<IContact>\r\n    toggleFavoriteUser: (id: number, event: boolean) => void\r\n}\r\n\r\nconst FavoriteContacts: React.FC<IState> = ({favorites, toggleFavoriteUser}) => {\r\n\r\n    const deleteFromFavorite = useCallback((id: number) => {\r\n        toggleFavoriteUser(id, false)\r\n    }, [toggleFavoriteUser])\r\n\r\n    return <>\r\n        {favorites.length > 0 && <Favorite/>}\r\n        {favorites.map(contact => <Contact key={contact.id} contact={contact}\r\n                                           toggleFavoriteUser={deleteFromFavorite}/>)}\r\n    </>\r\n}\r\n\r\nexport default FavoriteContacts","import React, {useCallback} from \"react\"\r\nimport {IContact} from \"../../types/types\"\r\nimport Contact from \"./Contact\"\r\nimport {AllContacts} from \"./ContactsType\"\r\n\r\ninterface IState {\r\n    contacts: Array<IContact>\r\n    toggleFavoriteUser: (id: number, event: boolean) => void\r\n}\r\n\r\nconst ContactsList: React.FC<IState> = ({contacts, toggleFavoriteUser}) => {\r\n\r\n    const deleteFromFavorite = useCallback((id: number) => {\r\n        toggleFavoriteUser(id, true)\r\n    }, [toggleFavoriteUser])\r\n\r\n    return <>\r\n        {contacts.length > 0 && <AllContacts/>}\r\n        {contacts.map(contact => <Contact key={contact.id} contact={contact} toggleFavoriteUser={deleteFromFavorite}/>)}\r\n    </>\r\n}\r\n\r\nexport default ContactsList","import React, {ComponentType} from 'react'\r\nimport {connect} from \"react-redux\"\r\nimport {Redirect} from 'react-router-dom'\r\nimport {StoreType} from \"../../store\"\r\n\r\nconst mapState = (state: StoreType) => ({\r\n    isAuth: state.app.isAuth\r\n})\r\n\r\ntype IState = ReturnType<typeof mapState>\r\n\r\nexport const withAuthRedirect = (Component: ComponentType) => {\r\n\r\n    const authRedirect: React.FC<IState> = (props) => {\r\n        const {isAuth, ...rest} = props\r\n\r\n        if (!props.isAuth) {\r\n            return <Redirect to='/login'/>\r\n        }\r\n        return <Component {...rest}/>\r\n    }\r\n\r\n    return connect(mapState)(authRedirect)\r\n}\r\n","import React, {ComponentType, useCallback} from 'react'\r\nimport {StoreType} from \"../../store\"\r\nimport {connect} from \"react-redux\"\r\nimport FavoriteContacts from \"./FavoriteContacts\"\r\nimport ContactsList from './ContactsList'\r\nimport {NavLink} from \"react-router-dom\"\r\nimport AppError from \"../common/AppError\"\r\nimport {IUser} from \"../../types/types\"\r\nimport {compose} from \"redux\"\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\"\r\nimport {changeFavoriteUserTC} from \"../../store/profile-reducer\"\r\n\r\nconst Contacts: React.FC<StateType> = ({profile, error, changeFavoriteUserTC}) => {\r\n\r\n    const toggleFavoriteUser = useCallback((id: number, event: boolean) => {\r\n        changeFavoriteUserTC(id, event)\r\n    }, [changeFavoriteUserTC])\r\n\r\n    const favoriteFilter = profile.contacts?.filter(contact => profile.favorites?.includes(contact.id))\r\n    const otherContacts = profile.contacts?.filter(contact => !profile.favorites?.includes(contact.id))\r\n\r\n    return <>\r\n        <div className='mt-3 d-flex align-items-center justify-content-between'>\r\n            <h2>{profile.name}'s contacts:</h2>\r\n            <NavLink to='/newContact' className='btn btn-success'>Add contact</NavLink>\r\n        </div>\r\n        {error && <AppError message={error.message}/>}\r\n        <div className='my-3'>\r\n            <ul className=\"list-unstyled list-group col-12 pr-0\">\r\n                {favoriteFilter &&\r\n                <FavoriteContacts favorites={favoriteFilter} toggleFavoriteUser={toggleFavoriteUser}/>}\r\n                {otherContacts && <ContactsList contacts={otherContacts} toggleFavoriteUser={toggleFavoriteUser}/>}\r\n            </ul>\r\n        </div>\r\n    </>\r\n}\r\n\r\nconst mapState = (state: StoreType) => ({\r\n    profile: state.profile.profile as IUser,\r\n    error: state.app.error\r\n})\r\n\r\nconst dispatchProps = {\r\n    changeFavoriteUserTC\r\n}\r\ntype IDispatch = {\r\n    changeFavoriteUserTC: (contactId: number, event: boolean) => void\r\n}\r\n\r\ntype StateType = ReturnType<typeof mapState> & IDispatch\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapState, dispatchProps),\r\n    withAuthRedirect\r\n)(Contacts)\r\n","import React from 'react'\r\n\r\nconst NotFound: React.FC = () => {\r\n    return <div className='text-primary display-1 text-center mt-5 pt-5'>\r\n        <div className='font-weight-bold mt-5'>404</div>NotFound\r\n    </div>\r\n}\r\n\r\nexport default NotFound","export default __webpack_public_path__ + \"static/media/life.16c3f13d.png\";","export default __webpack_public_path__ + \"static/media/kiev.b8ad4e57.png\";","export default __webpack_public_path__ + \"static/media/vodafone.fdca0659.jpg\";","import React, {useCallback} from \"react\"\r\nimport {FieldProps, getIn} from \"formik\"\r\nimport cn from \"classnames\"\r\nimport {defineOperator} from \"../defineOperator\"\r\n\r\ntype IState = FieldProps & {\r\n    push: () => void\r\n    remove: () => void\r\n    length: number\r\n    phone: string\r\n    i: number\r\n}\r\n\r\nexport const PhoneField: React.FC<IState> = ({field, form, push, remove, length, phone, i}) => {\r\n\r\n    const {errors, values} = form\r\n\r\n    const name = field.name\r\n    const errorMessage = getIn(errors, name)\r\n    const removeCurrentPhone = useCallback(() => remove(), [remove])\r\n    const addPhone = useCallback(() => push(), [push])\r\n    const operator = defineOperator(phone)\r\n    const isValid = values.phones[i].number && !errorMessage\r\n\r\n    return <div className=\"form-row\">\r\n        <div className=\"col-md-12 mb-3\">\r\n            <div className=\"input-group\">\r\n                <img src={operator} width=\"39\" height=\"39\" className=\"rounded float-left mr-3\" alt=\"\"/>\r\n                <input {...field} placeholder='+380930000000'\r\n                       className={cn(\"form-control\", {'is-valid': isValid}, {'is-invalid': errorMessage})}\r\n                />\r\n                <div className=\"input-group-append\">\r\n                    {length > 1 &&\r\n                    <button className=\"btn btn-danger\" onClick={removeCurrentPhone} type=\"button\">Delete</button>}\r\n                    <button className=\"btn btn-success\" onClick={addPhone} type=\"button\">Add phone</button>\r\n                </div>\r\n                <div className={cn({'valid-feedback': isValid}, {'invalid-feedback': errorMessage})}>\r\n                    {errorMessage || (values.phones[i].number && 'Looks good!')}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default PhoneField","import anonim from \"../../assets/image/anonim.png\"\r\nimport life from \"../../assets/image/life.png\"\r\nimport kiev from \"../../assets/image/kiev.png\"\r\nimport vodafone from \"../../assets/image/vodafone.jpg\"\r\n\r\nexport function defineOperator(number: string) {\r\n    let operator = anonim\r\n    if (number.match(/(063|073|093)/)) {\r\n        operator = life\r\n    } else if (number.match(/(067|068|096|097|098)/)) {\r\n        operator = kiev\r\n    } else if (number.match(/(050|066|095|099)/)) {\r\n        operator = vodafone\r\n    }\r\n    return operator\r\n}\r\n","import React, {ChangeEvent, useCallback, useState} from 'react'\r\nimport anonim from '../../assets/image/anonim.png'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {Field, FieldArray, Form, Formik} from \"formik\"\r\nimport {IContact, IError, IPhone} from \"../../types/types\"\r\nimport * as yup from 'yup'\r\nimport FormField from '../common/FormFields/FormField'\r\nimport {PhoneField} from \"../common/FormFields/PhoneField\"\r\nimport AppError from \"../common/AppError\"\r\n\r\ninterface IEditForm {\r\n    deleteContact?: (id: number) => void\r\n    contact: IContact\r\n    editContact?: (data: IContact) => void\r\n    newContactTC?: (data: IContact) => void\r\n    error: IError | null\r\n}\r\n\r\nconst Edit: React.FC<IEditForm> = ({contact, deleteContact, editContact, newContactTC, error}) => {\r\n\r\n    const deleteCurrentContact = useCallback(() => {\r\n        if (deleteContact) {\r\n            deleteContact(contact.id)\r\n        }\r\n    }, [deleteContact, contact.id])\r\n\r\n    const validationSchema = yup.object({\r\n        name: yup.string()\r\n            .matches(/^[a-zа-щієїґюьяыёъ\\s]+$/i, 'Field should contain only letters')\r\n            .min(3)\r\n            .max(100, 'Too Long!')\r\n            .required('Name field is required'),\r\n        email: yup.string().max(100, 'Too Long!').email('Incorrect email'),\r\n        phones: yup.array().of(\r\n            yup.object().shape({\r\n                id: yup.number(),\r\n                number: yup.string()\r\n                    .trim()\r\n                    .matches(/^(\\+38)?0(93|63|67|68|96|97|98|50|66|95|99)\\d{7}$/, 'Incorrect phone number. Operator does not exist. Use life, kievstar or vodafone')\r\n                    .required('Field is required')\r\n            })\r\n        )\r\n    })\r\n\r\n    const onSubmit = (values: IContact) => {\r\n        if (editContact) {\r\n            editContact(values)\r\n        } else if (newContactTC) {\r\n            newContactTC(values)\r\n        }\r\n    }\r\n\r\n    let [loadedImg, setImg] = useState<null | string>(null)\r\n\r\n    return <div className='my-4'>\r\n        {error && <AppError message={error.message}/>}\r\n        <Formik initialValues={contact}\r\n                validationSchema={validationSchema}\r\n                onSubmit={onSubmit}\r\n                className='my-4'>\r\n            {(formProps) => {\r\n\r\n                if (typeof formProps.values.avatar !== \"string\") {\r\n                    const reader = new FileReader()\r\n                    reader.onload = (event) => {\r\n                        event.target && setImg(event.target.result as string)\r\n                    }\r\n                    reader.readAsDataURL(formProps.values.avatar)\r\n                }\r\n\r\n                const setImgField = (event: ChangeEvent<HTMLInputElement>) => {\r\n                    formProps.setFieldValue(\"avatar\", event.target.files && event.target.files[0])\r\n                }\r\n\r\n                return (\r\n                    <Form>\r\n                        <div className=\"form-group d-flex\">\r\n                            <div className='overflow-hidden mr-4 size_edit'>\r\n                                <img src={loadedImg || contact.avatar || anonim}\r\n                                     className=\"rounded float-left mr-3\" alt=\"\"/>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"image\">Choose photo</label>\r\n                                <input type=\"file\" name='avatar' id=\"image\"\r\n                                       accept=\".jpg, .jpeg\" className=\"form-control-file\"\r\n                                       onChange={setImgField}/>\r\n                            </div>\r\n                        </div>\r\n                        <FormField name='name' placeholder='Name'/>\r\n\r\n                        <div className=\"mb-4\">\r\n                            <p className=\"mr-2 d-inline\">Phones</p>\r\n                        </div>\r\n                        <FieldArray name='phones'>\r\n                            {({push, remove, form}) => {\r\n                                const {values: {phones}} = form\r\n                                const length = phones.length\r\n                                const lastId = phones[length - 1].id\r\n\r\n                                return phones.map((e: IPhone, i: number) => {\r\n                                        const name = `phones[${i}].number`\r\n\r\n                                        return <Field key={e.id} component={PhoneField} name={name}\r\n                                                      length={length} lastId={lastId}\r\n                                                      phone={e.number} i={i}\r\n                                                      push={() => push({id: lastId + 1, number: ''})}\r\n                                                      remove={() => remove(i)}/>\r\n                                    }\r\n                                )\r\n                            }}\r\n                        </FieldArray>\r\n\r\n                        <FormField name='email' type='email' placeholder='name@example.com'/>\r\n                        <FormField name='address' placeholder='Address'/>\r\n                        <FormField name='comment' placeholder='Comment'/>\r\n\r\n                        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n                            <NavLink to='/contacts' className=\"btn btn-info\">Cancel</NavLink>\r\n                            <button type=\"submit\" className=\"btn btn-success\">Save</button>\r\n                            {deleteContact && <NavLink to='/contacts' className=\"btn btn-danger\"\r\n                                                       onClick={deleteCurrentContact}>Delete</NavLink>}\r\n                        </div>\r\n                    </Form>\r\n                )\r\n            }}\r\n        </Formik>\r\n    </div>\r\n}\r\n\r\nexport default Edit\r\n\r\n\r\n\r\n\r\n","import React, {ComponentType, useCallback} from 'react'\r\nimport {compose} from \"redux\"\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\"\r\nimport Edit from \"../Edit/Edit\"\r\nimport {IContact} from \"../../types/types\"\r\nimport {StoreType} from \"../../store\"\r\nimport {newContactTC} from \"../../store/profile-reducer\"\r\nimport {connect} from \"react-redux\"\r\nimport {useHistory} from \"react-router-dom\"\r\n\r\nconst NewContact: React.FC<StateType> = ({contacts, error, newContactTC}) => {\r\n\r\n    let lastId\r\n    if (contacts && contacts.length > 0) {\r\n        lastId = contacts[contacts.length - 1].id\r\n    } else {\r\n        lastId = 0\r\n    }\r\n\r\n    let newContact: IContact = {\r\n        id: lastId + 1,\r\n        name: '',\r\n        avatar: '',\r\n        email: '',\r\n        address: '',\r\n        comment: '',\r\n        phones: [{id: 1, number: ''}]\r\n    }\r\n\r\n    let history = useHistory()\r\n    const editContact = useCallback((data: IContact) => {\r\n        let result = newContactTC(data)\r\n\r\n        result.then(result => {\r\n            if (result) {\r\n                history.push('/contacts')\r\n            }\r\n        })\r\n    }, [newContactTC, history])\r\n\r\n    return <Edit contact={newContact} editContact={editContact} error={error}/>\r\n}\r\n\r\nconst mapState = (state: StoreType) => ({\r\n    contacts: state.profile.profile?.contacts,\r\n    error: state.app.error\r\n})\r\n\r\nconst mapDispatch = {\r\n    newContactTC\r\n}\r\ninterface IDispatch {\r\n    newContactTC: (data: IContact) => Promise<boolean>\r\n}\r\n\r\ntype StateType = ReturnType<typeof mapState> & IDispatch\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapState, mapDispatch),\r\n    withAuthRedirect,\r\n)(NewContact)","import React from 'react'\r\nimport {IContact} from \"../../types/types\"\r\nimport anonim from '../../assets/image/anonim.png'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\ninterface IState {\r\n    user: IContact\r\n}\r\n\r\nconst Show: React.FC<IState> = ({user}) => {\r\n    return <div className=\"card border-primary mb-3 mt-4\">\r\n        <div className=\"card-header\">\r\n            <p className=\"h4\">{user.name}</p>\r\n        </div>\r\n        <div className=\"card-body text-primary\">\r\n            <div className=\"form-group d-flex\">\r\n                <div className={'overflow-hidden size_show_page float-left mr-3'}>\r\n                    <img src={user.avatar || anonim} alt=\"\"/>\r\n                </div>\r\n\r\n                <div>\r\n                    <Field fieldName={'Email'} value={user.email}/>\r\n                    <Field fieldName={'Address'} value={user.address}/>\r\n                    <Field fieldName={'Comment'} value={user.comment}/>\r\n                    <div>\r\n                        <p className=\"card-title font-weight-bold\">Phones: </p>\r\n                        {user.phones.map(phone =>\r\n                            <a key={phone.id} href={'tel:' + phone.number} className=\"d-block\">{phone.number}</a>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <NavLink to='/contacts' className='btn btn-primary float-right px-5'>Back</NavLink>\r\n        </div>\r\n    </div>\r\n}\r\n\r\ninterface IFieldState {\r\n    fieldName: string\r\n    value: string | null\r\n}\r\n\r\nconst Field: React.FC<IFieldState> = ({fieldName, value}) => {\r\n    return <p className=\"card-title font-weight-bold\">{fieldName}:\r\n        <span className='font-weight-normal'> {value || 'Doesn`t set'}</span>\r\n    </p>\r\n}\r\n\r\nexport default Show","import React, {ComponentType} from 'react'\r\nimport {Redirect, useParams} from 'react-router-dom'\r\nimport Show from './Show'\r\nimport {connect} from \"react-redux\"\r\nimport {StoreType} from \"../../store\"\r\nimport {ShowErrorTC} from \"../../store/app-reducer\"\r\nimport {IContact, IError} from \"../../types/types\"\r\nimport {compose} from \"redux\"\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\"\r\n\r\nconst ShowContainer: React.FC<StateType> = ({contacts, ShowErrorTC}) => {\r\n\r\n    const uri = useParams<{[key: string]: string }>()\r\n    const user = contacts.find(contact => contact.id === +uri.id)\r\n\r\n    if (!user) {\r\n        ShowErrorTC({message: 'User wasn`t found'})\r\n        return <Redirect to='/contacts'/>\r\n    }\r\n    return <Show user={user}/>\r\n}\r\n\r\nconst mapState = (state: StoreType) => ({\r\n    contacts: state.profile.profile?.contacts as Array<IContact>\r\n})\r\n\r\nconst dispatchState = {\r\n    ShowErrorTC\r\n}\r\ntype IDispatch = {\r\n    ShowErrorTC: (err: IError, time?: number) => void\r\n}\r\n\r\ntype StateType = ReturnType<typeof mapState> & IDispatch\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapState, dispatchState),\r\n    withAuthRedirect\r\n)(ShowContainer)","import React from 'react';\r\nimport style from './Preloader.module.css';\r\n\r\nconst Preloader: React.FC = () => {\r\n    return <div className={'d-flex justify-content-center align-items-center ' + style.min_height}>\r\n        <div className={\"spinner-border text-primary \" + style.size} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Preloader","import React, {ComponentType, useCallback} from \"react\";\r\nimport {Redirect, useHistory, useParams} from \"react-router-dom\";\r\nimport {ShowErrorTC} from \"../../store/app-reducer\";\r\nimport {StoreType} from \"../../store\";\r\nimport {deleteContactTC, editContactDataTC} from \"../../store/profile-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\";\r\nimport Edit from \"./Edit\";\r\nimport {IContact} from \"../../types/types\";\r\n\r\nconst EditContainer: React.FC<StateType> = ({contacts, deleteContactTC, editContactDataTC, error}) => {\r\n\r\n    const deleteContact = useCallback((id: number) => {\r\n        deleteContactTC(id)\r\n    }, [deleteContactTC])\r\n\r\n    let history = useHistory()\r\n    const editContact = useCallback((data: IContact) => {\r\n        let result = editContactDataTC(data)\r\n\r\n        result.then(result => {\r\n            if (result) {\r\n                history.push('/contacts')\r\n            }\r\n        })\r\n    }, [editContactDataTC, history])\r\n\r\n    const param = useParams<{ [key: string]: string }>()\r\n    let contact = contacts?.find(e => e.id === +param.id)\r\n\r\n    if (!contact) {\r\n        ShowErrorTC({message: 'User wasn`t found'})\r\n        return <Redirect to='/contacts'/>\r\n    }\r\n    return <Edit contact={contact} deleteContact={deleteContact} editContact={editContact} error={error}/>\r\n}\r\n\r\nconst mapState = (state: StoreType) => ({\r\n    contacts: state.profile.profile?.contacts,\r\n    error: state.app.error\r\n})\r\n\r\nconst mapDispatch = {\r\n    deleteContactTC,\r\n    editContactDataTC\r\n}\r\n\r\ninterface IDispatch {\r\n    deleteContactTC: (id: number) => void\r\n    editContactDataTC: (data: IContact) => Promise<boolean>\r\n}\r\n\r\ntype StateType = ReturnType<typeof mapState> & IDispatch\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapState, mapDispatch),\r\n    withAuthRedirect\r\n)(EditContainer)","import React, {ComponentType, Suspense} from 'react'\r\nimport Preloader from \"../common/Preloader/Preloader\"\r\n\r\nexport const withSuspense = (Component: ComponentType) => {\r\n\r\n     const lazyComponent: React.FC = (props) => {\r\n        return <Suspense fallback={<Preloader />} >\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n    return lazyComponent\r\n}","import React from 'react';\r\n\r\nconst Footer: React.FC = () => {\r\n    return <div className=\"card-footer d-flex justify-content-around\">\r\n        <small className=\"text-muted\">GeekHub 2020 - 2021</small>\r\n        <small className=\"text-muted\">Designed by Yuliia Kavytska</small>\r\n    </div>\r\n}\r\n\r\nexport default Footer","import React, {useEffect} from 'react'\nimport './App.css'\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\"\nimport Header from './components/Header/Header'\nimport {connect, Provider} from \"react-redux\"\nimport store, {StoreType} from './store'\nimport Contacts from './components/Contacts/Contacts'\nimport NotFound from './components/404/NotFound'\nimport NewContact from './components/NewContact/NewContact'\nimport ShowContainer from \"./components/Show/ShowContainer\"\nimport {initializeAppTC} from \"./store/app-reducer\"\nimport Preloader from \"./components/common/Preloader/Preloader\"\nimport EditContainer from './components/Edit/EditContainer'\nimport {withSuspense} from './components/HOC/withSuspence'\nimport Footer from \"./components/Footer/Footer\"\n\nconst Login = React.lazy(() => import(\"./components/Login/Login\"))\nconst SuspendedLogin = withSuspense(Login)\n\nconst SignUp = React.lazy(() => import(\"./components/SignUp/SignUp\"))\nconst SuspendedSignUp = withSuspense(SignUp)\n\nconst App: React.FC<StateType> = ({initialized, initializeAppTC}) => {\n\n    useEffect(() => {\n        initializeAppTC()\n    }, [initializeAppTC])\n\n    return <div className='d-flex flex-column app_height'>\n        <Header/>\n        <main className='container mb-3 flex-grow-1'>\n            {!initialized ? <Preloader/> : <Switch>\n                <Route path='/' exact render={() => <Contacts/>}/>\n                <Route path='/login' exact render={() => <SuspendedLogin/>}/>\n                <Route path='/signup' exact render={() => <SuspendedSignUp/>}/>\n                <Route path='/contacts' exact render={() => <Contacts/>}/>\n                <Route path='/newContact' render={() => <NewContact/>}/>\n                <Route path='/show/:id?' render={() => <ShowContainer/>}/>\n                <Route path='/edit/:id?' render={() => <EditContainer/>}/>\n                <Route path='/*' render={() => <NotFound/>}/>\n            </Switch>\n            }\n        </main>\n        <Footer/>\n    </div>\n}\n\nconst AppContainer: React.FC = () => {\n    return <Provider store={store}>\n        <BrowserRouter>\n            <AppConnected/>\n        </BrowserRouter>\n    </Provider>\n}\n\nconst mapState = (state: StoreType) => ({\n    initialized: state.app.initialized\n})\n\nconst dispatchState = {\n    initializeAppTC\n}\n\ntype StateType = ReturnType<typeof mapState> & { initializeAppTC: () => void }\nconst AppConnected = connect(mapState, dispatchState)(App)\n\nexport default AppContainer","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import {IContact, methodsTypes} from \"../types/types\"\r\n\r\nexport const createFormData = (data: IContact<string | File>) => {\r\n    let formData = new FormData();\r\n    for (let key in data) {\r\n        if (data.hasOwnProperty(key) && typeof data[key] !== 'string' && key !== 'avatar') {\r\n            formData.append(key, JSON.stringify(data[key]))\r\n        } else {\r\n            formData.append(key, data[key])\r\n        }\r\n    }\r\n    return formData\r\n}\r\n\r\nexport const ajax = (url: string, method: methodsTypes, body = {}): Promise<any> => {\r\n    let settings: ISettings = {\r\n        method,\r\n        headers: {\r\n            \"X-Requested-With\": \"XMLHttpRequest\",\r\n            \"Content-Type\": \"application/json\",\r\n            \"Access-Control-Allow-Origin\": 'http://localhost:8000/'\r\n        }\r\n    }\r\n    if (Object.keys(body).length > 0) {\r\n        settings[\"body\"] = JSON.stringify(body)\r\n    }\r\n    return fetch(url, settings)\r\n}\r\n\r\ninterface  ISettings {\r\n    [key: string]: string | object\r\n    headers: {[key: string]: string}\r\n    method: methodsTypes\r\n}","import React from \"react\"\r\nimport {Field, FieldProps} from \"formik\"\r\nimport cn from \"classnames\"\r\n\r\ninterface IState {\r\n    name: string\r\n    type?: string\r\n    placeholder: string\r\n}\r\n\r\nconst FormField: React.FC<IState> = ({name, type = 'text', placeholder}) => {\r\n\r\n    const nameField = name.charAt(0).toUpperCase() + name.slice(1)\r\n\r\n    return <div className=\"form-row\">\r\n        <div className=\"col-md-12 mb-3\">\r\n            <label htmlFor={name}>{nameField}</label>\r\n            <Field name={name}>\r\n                {({form, field, meta}: FieldProps) => {\r\n                    const isInvalid = (form.values[name] || form.touched[name]) && meta.error\r\n                    const isValid = form.values[name] && !meta.error\r\n                    return <>\r\n                        <input {...field} type={type} id={name} placeholder={placeholder}\r\n                               className={cn(\"form-control\",\r\n                                   {'is-valid': isValid},\r\n                                   {'is-invalid': isInvalid})}\r\n                        />\r\n                        <div className={cn({'valid-feedback': isValid}, {'invalid-feedback': isInvalid})}>\r\n                            {isInvalid || (form.values[name] && 'Looks good!')}\r\n                        </div>\r\n                    </>\r\n                }}\r\n            </Field>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default FormField","import React from 'react';\r\n\r\ninterface iState {\r\n    message: string\r\n}\r\n\r\nconst AppError: React.FC<iState> = ({message}) => {\r\n    return <div className=\"alert alert-danger mt-3\" role=\"alert\">\r\n        {message}\r\n    </div>\r\n}\r\n\r\nexport default AppError","// extracted by mini-css-extract-plugin\nmodule.exports = {\"min_height\":\"Preloader_min_height__2nKwb\",\"size\":\"Preloader_size__2aKvs\"};","import {BaseThunkType, InferActionsTypes} from \".\"\r\nimport {IError, ILogin, IRegisterData} from \"../types/types\"\r\nimport {getUserTC} from \"./profile-reducer\"\r\nimport {ajax} from \"./commonFunktion\"\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    isFetching: true,\r\n    error: null as IError | null,\r\n    isAuth: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action: ActionsType): StateType => {\r\n    switch (action.type) {\r\n        case \"CA/APP/SET_INITIALIZED\":\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        case \"CA/APP/SET_ERROR\":\r\n            return {\r\n                ...state,\r\n                error: action.err\r\n            }\r\n        case \"CA/PROFILE/SET_AUTHORIZED\":\r\n            return {\r\n                ...state,\r\n                isAuth: action.event\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setInitialized: () => ({type: 'CA/APP/SET_INITIALIZED'} as const),\r\n    setError: (err: IError | null) => ({type: 'CA/APP/SET_ERROR', err} as const),\r\n    setAuthorized: (event: boolean) => ({type: 'CA/PROFILE/SET_AUTHORIZED', event} as const)\r\n}\r\n\r\nexport const initializeAppTC = (): ThunkType => async (dispatch, getState) => {\r\n    let storage = await localStorage.getItem('CA/user')\r\n    if (storage) {\r\n        let userData = JSON.parse(storage)\r\n        if (userData.hasOwnProperty('email') && userData.hasOwnProperty('password')) {\r\n            let response = await dispatch(getUserTC(userData))\r\n\r\n            if (response) {\r\n                dispatch(actions.setAuthorized(true))\r\n            }\r\n        } else {\r\n            await dispatch(ShowErrorTC({message: 'Your data is incorrect. Log In with correct login and password'}))\r\n        }\r\n    }\r\n    if (!getState().app.initialized) {\r\n        dispatch(actions.setInitialized())\r\n    }\r\n}\r\n\r\nexport const RegisterTC = (data: IRegisterData): ThunkType => async (dispatch) => {\r\n    let response = await ajax('/api/signUp', 'POST', data)\r\n    if (response.status === 200) {\r\n        localStorage.setItem('CA/user', JSON.stringify({email: data.email, password: data.password}))\r\n        await dispatch(initializeAppTC())\r\n    } else {\r\n        let data = await response.json()\r\n        await dispatch(ShowErrorTC(data))\r\n    }\r\n}\r\n\r\nexport const LogInTC = (data: ILogin): ThunkType => async (dispatch) => {\r\n    localStorage.setItem('CA/user', JSON.stringify(data))\r\n    await dispatch(initializeAppTC())\r\n}\r\n\r\nexport const ShowErrorTC = (err: IError, time: number = 3000): ThunkType => async (dispatch) => {\r\n    dispatch(actions.setError(err))\r\n    setTimeout(() => dispatch(actions.setError(null)), time)\r\n}\r\n\r\ntype StateType = typeof initialState\r\nexport type ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType<T = Promise<void>> = BaseThunkType<ActionsType, T>\r\nexport default appReducer"],"sourceRoot":""}