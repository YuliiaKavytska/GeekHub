(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(t,e,l){},28:function(t,e,l){},29:function(t,e,l){},36:function(t,e,l){"use strict";l.r(e);var c=l(0),i=l.n(c),s=l(13),n=l.n(s),a=(l(27),l(28),l(29),l(15)),u=Object(a.b)({name:"list",initialState:{list:[],lastTask:"",countOfActiveTasks:0,filter:"all",filterResult:[]},reducers:{setTodos:function(t,e){t.list=e.payload.list,t.filterResult=e.payload.list,t.countOfActiveTasks=e.payload.list.filter((function(t){return"active"===t.status})).length},changeItemStatus:function(t,e){var l=t.list.findIndex((function(t){return t.id===e.payload.id}));"active"===t.list[l].status?t.list[l].status="completed":t.list[l].status="active",t.countOfActiveTasks=t.list.filter((function(t){return"active"===t.status})).length,t.filterResult=t.list,t.filter="all"},changeEditing:function(t,e){var l=t.list.findIndex((function(t){return t.id===e.payload.id}));!1===e.payload.case?t.list[l].editing=!1:t.list[l].editing=!t.list[l].editing,t.filterResult=t.list},changeItemTask:function(t,e){var l=t.list.findIndex((function(t){return t.id===e.payload.id}));t.list[l].task=e.payload.task,t.filterResult=t.list},addItem:function(t){if(""!==t.lastTask){var e=t.list.length>0?t.list[t.list.length-1].id+1:1;t.list.push({id:e,task:t.lastTask,status:"active",editing:!1}),t.lastTask="",t.countOfActiveTasks+=1,t.filterResult=t.list,t.filter="all"}},deleteItem:function(t,e){t.list=t.list.filter((function(t){return t.id!==e.payload.id})),t.countOfActiveTasks=t.list.filter((function(t){return"active"===t.status})).length,t.filterResult=t.list,t.filter="all"},deleteCompleted:function(t){t.list=t.list.filter((function(t){return"completed"!==t.status})),t.filterResult=t.list},changeLastTask:function(t,e){t.lastTask=e.payload.task},completedAll:function(t){t.list.every((function(t){return"active"===t.status}))||t.list.some((function(t){return"active"===t.status}))?(t.list.forEach((function(t){t.status="completed"})),t.countOfActiveTasks=0):(t.list.forEach((function(t){t.status="active"})),t.countOfActiveTasks=t.list.length),t.filterResult=t.list},changeFilter:function(t,e){switch(e.payload.filter){case"all":t.filterResult=t.list,t.filter="all",t.countOfActiveTasks=t.list.filter((function(t){return"active"===t.status})).length;break;case"active":t.filterResult=t.list.filter((function(t){return"completed"!==t.status})),t.filter="active",t.countOfActiveTasks=t.list.filter((function(t){return"active"===t.status})).length;break;case"completed":t.filterResult=t.list.filter((function(t){return"active"!==t.status})),t.filter="completed",t.countOfActiveTasks=t.list.filter((function(t){return"active"===t.status})).length;break;case"item":t.filterResult=t.list.filter((function(t){return t.id===e.payload.id})),t.filter="all",t.countOfActiveTasks=t.list.filter((function(t){return"active"===t.status})).length;break;default:return}}}}),r=u.actions,o=r.setTodos,d=r.changeItemStatus,f=r.changeItemTask,b=r.changeEditing,j=r.addItem,h=r.deleteItem,O=r.deleteCompleted,m=r.changeLastTask,k=r.completedAll,g=r.changeFilter,v=l(9),p=l(3),x=l(1),C=function(t){var e=t.item,l=t.changeEditingCall,s=t.changeItemStatusCall,n=t.deleteItemCall,a=t.changeItemTaskCall,u=Object(c.useCallback)((function(t){l(e.id)}),[l,e]),r=Object(c.useCallback)((function(){s(e.id)}),[s,e]),o=Object(c.useCallback)((function(){n(e.id)}),[n,e]),d=Object(c.useCallback)((function(t){a(e.id,t.currentTarget.value)}),[a,e]),f=Object(c.useCallback)((function(){l(e.id,!1)}),[l,e]),b=i.a.createRef();return Object(c.useEffect)((function(){b.current&&b.current.focus()}),[b]),Object(x.jsxs)("li",{className:"completed"===e.status?e.editing?"completed editing":"completed":e.editing?"editing":void 0,onDoubleClick:u,children:[Object(x.jsxs)("div",{className:"view",children:[Object(x.jsx)("input",{className:"toggle",type:"checkbox",checked:"completed"===e.status,onChange:r}),Object(x.jsx)("label",{children:e.task}),Object(x.jsx)("button",{className:"destroy",onClick:o})]}),Object(x.jsx)("input",{className:"edit",value:e.task,onInput:d,onBlur:f,ref:b})]})},T=function(){var t=Object(v.c)((function(t){return t.toDo})).filterResult,e=Object(v.b)(),l=Object(p.f)(),i=l.filter,s=l.num,n=l.edit;Object(c.useEffect)((function(){switch(i){case"todo":e(n?b({id:Number(s)}):g(s?{filter:"item",id:Number(s)}:{filter:"all"}));break;case void 0:fetch("/all",{method:"GET",headers:{"X-Request-With":"XMLHttpRequest"}}).then((function(t){return t.json()})).then((function(t){e(o({list:t.list})),e(g({filter:"all"}))}));break;default:fetch("/"+i).then((function(t){return console.log("res "+t.json()),t})).then((function(t){console.log("data"+t)})),e(g({filter:i}))}}),[e,n,s,i]);var a=Object(c.useCallback)((function(){e(k())}),[e]),u=Object(c.useCallback)((function(t,l){e(b({id:t,case:l}))}),[e]),r=Object(c.useCallback)((function(t){e(d({id:t}))}),[e]),j=Object(c.useCallback)((function(t){e(h({id:t}))}),[e]),O=Object(c.useCallback)((function(t,l){e(f({id:t,task:l}))}),[e]);return Object(x.jsxs)("section",{className:"main",children:[Object(x.jsx)("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",onClick:a}),Object(x.jsx)("label",{htmlFor:"toggle-all",children:" Mark all as complete"}),Object(x.jsx)("ul",{className:"todo-list",children:t.map((function(t){return Object(x.jsx)(C,{item:t,changeEditingCall:u,changeItemStatusCall:r,deleteItemCall:j,changeItemTaskCall:O},t.id)}))})]})},I=l(10),N=function(){var t=Object(v.c)((function(t){return t.toDo})).countOfActiveTasks,e=Object(v.b)();return Object(x.jsxs)("footer",{className:"footer",children:[Object(x.jsxs)("span",{className:"todo-count",children:[Object(x.jsx)("strong",{children:t})," item left"]}),Object(x.jsxs)("ul",{className:"filters",children:[Object(x.jsx)("li",{children:Object(x.jsx)(I.b,{activeClassName:"selected",to:"/",children:"All"})}),Object(x.jsx)("li",{children:Object(x.jsx)(I.b,{activeClassName:"selected",to:"/active",children:"Active"})}),Object(x.jsx)("li",{children:Object(x.jsx)(I.b,{activeClassName:"selected",to:"/completed",children:"Completed"})})]}),Object(x.jsx)("button",{className:"clear-completed",onClick:function(){return e(O())},children:"Clear completed"})]})},y=l(8),R=Object(y.c)({toDo:u.reducer}),A=Object(a.a)({reducer:R});window.store=A;var E=function(){var t=Object(v.c)((function(t){return t.toDo})).lastTask,e=Object(v.b)(),l=Object(c.useCallback)((function(t){"Enter"===t.key&&e(j())}),[e]),i=Object(c.useCallback)((function(t){e(m({task:t.target.value}))}),[e]);return Object(x.jsxs)("header",{className:"header",children:[Object(x.jsx)("h1",{children:"todos"}),Object(x.jsx)("input",{className:"new-todo",placeholder:"What needs to be done?",value:t,onInput:i,onKeyPress:l,autoFocus:!0})]})},w=function(){return Object(x.jsxs)("section",{className:"todoapp",children:[Object(x.jsx)(E,{}),Object(x.jsx)(p.a,{path:"/:filter?/:num?/:edit?",render:function(){return Object(x.jsx)(T,{})}}),Object(x.jsx)(N,{})]})},F=function(){return Object(x.jsx)(I.a,{children:Object(x.jsx)(v.a,{store:A,children:Object(x.jsx)(p.c,{children:Object(x.jsx)(w,{})})})})},S=function(t){t&&t instanceof Function&&l.e(3).then(l.bind(null,37)).then((function(e){var l=e.getCLS,c=e.getFID,i=e.getFCP,s=e.getLCP,n=e.getTTFB;l(t),c(t),i(t),s(t),n(t)}))};n.a.render(Object(x.jsxs)(i.a.StrictMode,{children:[Object(x.jsx)(F,{}),","]}),document.getElementById("root")),S()}},[[36,1,2]]]);
//# sourceMappingURL=main.096e5dbe.chunk.js.map